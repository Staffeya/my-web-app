<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Registration with Progress Bar</title>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Poppins', sans-serif;
            background-color: #1b1b1b;
            color: #f5f5f5;
            padding: 20px;
            max-width: 400px;
            margin: auto;
        }
        /* Existing styles... */
    </style>
</head>
<body>
    <div>
        <label for="language-select" id="choose-language-label">Choose Language</label>
        <select id="language-select" onchange="changeLanguage()">
            <option value="en">English</option>
            <option value="ru">Русский</option>
            <option value="lv">Latviešu</option>
        </select>
    </div>

    <div class="progress-container">
        <div class="progress-bar" id="progressBar"></div>
    </div>
    <h1 id="title">Create Profile</h1>
    <form id="registrationForm">
        <!-- Step 1 -->
        <div id="step1" class="step active">
            <div class="form-group">
                <label for="name" id="label-name">Name</label>
                <input type="text" id="name" placeholder="Enter your name" required>
            </div>
            <div class="form-group">
                <label for="birthdate" id="label-date-of-birth">Date of birth</label>
                <input type="date" id="birthdate" required>
            </div>
            <div class="form-group">
                <label for="city" id="label-city">Your city</label>
                <input type="text" id="city" placeholder="Enter your city" required>
            </div>
            <div class="form-group">
                <label id="label-gender">Gender</label>
                <div class="gender-group">
                    <input type="radio" id="male" name="gender" value="Male" required>
                    <label for="male" id="label-male">Male</label>
                    <input type="radio" id="female" name="gender" value="Female">
                    <label for="female" id="label-female">Female</label>
                </div>
            </div>
            <button type="button" class="btn-continue" id="button-continue" onclick="nextStep(2)">Continue</button>
        </div>

        <!-- Step 2: Social Media Links -->
        <div id="step2" class="step">
            <div class="form-group">
                <label for="instagram" id="label-instagram">Instagram</label>
                <input type="text" id="instagram" placeholder="instagram.com/">
            </div>
            <div class="form-group">
                <label for="onlyfans" id="label-onlyfans">OnlyFans</label>
                <input type="text" id="onlyfans" placeholder="onlyfans.com/">
            </div>
            <div class="form-group">
                <label for="twitter" id="label-twitter">Twitter</label>
                <input type="text" id="twitter" placeholder="twitter.com/">
            </div>
            <button type="button" class="btn-continue" id="button-continue-step2" onclick="nextStep(3)">Continue</button>
        </div>

        <!-- Step 3: Add Photos -->
        <div id="step3" class="step">
            <h1 id="add-photos-title">Add Profile Photos</h1>
            <p id="add-photos-instruction" style="color: #888;">You must add 3 photos to continue.</p>
            <div class="photo-grid">
                <label class="photo-upload">
                    <span>+</span>
                    <input type="file" accept="image/*" onchange="handleFileUpload(this)">
                </label>
                <label class="photo-upload">
                    <span>+</span>
                    <input type="file" accept="image/*" onchange="handleFileUpload(this)">
                </label>
                <label class="photo-upload">
                    <span>+</span>
                    <input type="file" accept="image/*" onchange="handleFileUpload(this)">
                </label>
            </div>
            <button type="button" class="btn-continue" id="button-submit" onclick="submitForm()">Continue</button>
        </div>
    </form>

    <script>
        let currentLanguage = 'en';
        const translations = {};

        async function loadTranslations(lang) {
            try {
                const response = await fetch(`translations/${lang}.json`);
                translations[lang] = await response.json();
                applyTranslations(lang);
            } catch (error) {
                console.error("Error loading translations:", error);
            }
        }

        function applyTranslations(lang) {
            document.getElementById('title').textContent = translations[lang].title;
            document.getElementById('label-name').textContent = translations[lang].name;
            document.getElementById('label-date-of-birth').textContent = translations[lang].date_of_birth;
            document.getElementById('label-city').textContent = translations[lang].city;
            document.getElementById('label-gender').textContent = translations[lang].gender;
            document.getElementById('label-male').textContent = translations[lang].male;
            document.getElementById('label-female').textContent = translations[lang].female;
            document.getElementById('button-continue').textContent = translations[lang].submit;
            document.getElementById('label-instagram').textContent = translations[lang].instagram;
            document.getElementById('label-onlyfans').textContent = translations[lang].onlyfans;
            document.getElementById('label-twitter').textContent = translations[lang].twitter;
            document.getElementById('button-continue-step2').textContent = translations[lang].submit;
            document.getElementById('add-photos-title').textContent = translations[lang].add_profile_photos;
            document.getElementById('add-photos-instruction').textContent = translations[lang].add_photos_instruction;
            document.getElementById('button-submit').textContent = translations[lang].submit;
            document.getElementById('choose-language-label').textContent = translations[lang].choose_language;
        }

        function changeLanguage() {
            const selectedLanguage = document.getElementById('language-select').value;
            currentLanguage = selectedLanguage;
            if (translations[selectedLanguage]) {
                applyTranslations(selectedLanguage);
            } else {
                loadTranslations(selectedLanguage);
            }
        }

        // Load default language
        loadTranslations(currentLanguage);
    </script>
</body>
</html>